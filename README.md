# URL-Shortener: ะัััััะน ะธ ะฝะฐะดะตะถะฝัะน ัะตัะฒะธั ะดะปั ัะพะบัะฐัะตะฝะธั URL ๐  

**URL-Shortener** โ ััะพ ะผะพัะฝัะน REST API-ัะตัะฒะธั ะดะปั ัะฟัะฐะฒะปะตะฝะธั ะบะพัะพัะบะธะผะธ ัััะปะบะฐะผะธ. ะก ะตะณะพ ะฟะพะผะพััั ะฒั ะผะพะถะตัะต ะฑััััะพ ัะพะทะดะฐะฒะฐัั, ัะดะฐะปััั ะธ ัะตะดะธัะตะบัะธัั ะบะพัะพัะบะธะต ัััะปะบะธ. ะัะพะตะบั ัะฐะทัะฐะฑะพัะฐะฝ ะฝะฐ **Golang**, ััะพ ะณะฐัะฐะฝัะธััะตั ะฒััะพะบัั ะฟัะพะธะทะฒะพะดะธัะตะปัะฝะพััั ะธ ะผะฐัััะฐะฑะธััะตะผะพััั.  

## ๐ง ะัะฝะพะฒะฝัะต ะพัะพะฑะตะฝะฝะพััะธ  
- **ะกะพะฒัะตะผะตะฝะฝัะต ัะตัะฝะพะปะพะณะธะธ**: ะัะฟะพะปัะทัะตััั ะปะตะณะบะพะฒะตัะฝัะน HTTP-ัะพััะตั `go-chi/chi`, ะพะฑะตัะฟะตัะธะฒะฐััะธะน ะณะธะฑะบะพััั ะธ ัะบะพัะพััั.  
- **ะะพะดะดะตัะถะบะฐ ะฑะฐะท ะดะฐะฝะฝัั**:  
  - **SQLite**: ะะดะตะฐะปัะฝะพ ะฟะพะดัะพะดะธั ะดะปั ะปะพะบะฐะปัะฝะพะน ัะฐะทัะฐะฑะพัะบะธ ะธะปะธ ะปะตะณะบะธั ะทะฐะดะฐั.  
  - **MongoDB**: ะะพะดัะพะดะธั ะดะปั ัะฐัะฟัะตะดะตะปะตะฝะฝัั ะธ ะผะฐัััะฐะฑะธััะตะผัั ัะธััะตะผ.  
- **Docker-Compose**: ะฃะฟัะพัะตะฝะฝะฐั ะฝะฐัััะพะนะบะฐ ะพะบััะถะตะฝะธั ั ะฟะพะผะพััั Docker Compose.  
- **ะคะฐะนะป ะบะพะฝัะธะณััะฐัะธะธ**: ะะพะดะดะตัะถะบะฐ YAML ะดะปั ัะดะพะฑะฝะพะน ะฝะฐัััะพะนะบะธ ัะตัะฒะธัะฐ.  
- **ะะพะณะธัะพะฒะฐะฝะธะต**: ะะฝัะตะณัะฐัะธั ั `slog` ะดะปั ะฟัะพะทัะฐัะฝะพะณะพ ะพััะปะตะถะธะฒะฐะฝะธั ัะฐะฑะพัั.  
- **ะขะตััะธัะพะฒะฐะฝะธะต**: ะะปััะตะฒัะต ะบะพะผะฟะพะฝะตะฝัั ะฟะพะบัััั ัะตััะฐะผะธ, ััะพ ะณะฐัะฐะฝัะธััะตั ะฝะฐะดะตะถะฝะพััั ะฒ ะฟัะพะดะฐะบัะตะฝะต.  

## ๐ API ะะฑะทะพั  
- **POST /url**: ะกะพะทะดะฐัั ะบะพัะพัะบัั ัััะปะบั.  
- **GET /{alias}**: ะะตะดะธัะตะบั ะฝะฐ ะพัะธะณะธะฝะฐะปัะฝัั ัััะปะบั.  
- **DELETE /url/{alias}**: ะฃะดะฐะปะธัั ะบะพัะพัะบัั ัััะปะบั.  

## ๐๏ธ ะกัััะบัััะฐ ะฟัะพะตะบัะฐ  
```plaintext
โโโ cmd
โ   โโโ url-shortener
โ       โโโ main.go
โโโ config
โ   โโโ local.yaml
โโโ docker-compose.yml
โโโ go.mod
โโโ go.sum
โโโ internal
โ   โโโ config
โ   โ   โโโ config.go
โ   โโโ http-server
โ   โ   โโโ handlers
โ   โ   โ   โโโ url
โ   โ   โ       โโโ deleteURL
โ   โ   โ       โ   โโโ deleteURL.go
โ   โ   โ       โโโ redirect
โ   โ   โ       โ   โโโ redirect.go
โ   โ   โ       โโโ save
โ   โ   โ           โโโ save.go
โ   โ   โโโ middleware
โ   โ       โโโ logger
โ   โ           โโโ logger.go
โ   โโโ lib
โ   โ   โโโ api
โ   โ   โ   โโโ api.go
โ   โ   โ   โโโ response
โ   โ   โ       โโโ response.go
โ   โ   โโโ logger
โ   โ   โ   โโโ sl
โ   โ   โ       โโโ sl.go
โ   โ   โโโ random
โ   โ       โโโ random.go
โ   โ       โโโ random_test.go
โ   โโโ storage
โ       โโโ mongo
โ       โ   โโโ mongo.go
โ       โโโ sqlite
โ       โ   โโโ sqlite.go
โ       โโโ storage.go
โโโ local.env
โโโ Makefile
โโโ README.md
โโโ storage.db
โโโ tests
โ   โโโ url_shortener_test.go
โโโ url-shortener
```
##  ะฃััะฐะฝะพะฒะบะฐ ะธ ะทะฐะฟััะบ  

ะงัะพะฑั ัััะฐะฝะพะฒะธัั ะธ ะทะฐะฟัััะธัั **URL-Shortener**, ะฒัะฟะพะปะฝะธัะต ัะปะตะดัััะธะต ัะฐะณะธ:  

### 1. ะะปะพะฝะธััะนัะต ัะตะฟะพะทะธัะพัะธะน:  
```bash
git clone git@github.com:your-username/url-shortener.git  
cd url-shortener
```  
### 2. ะฃััะฐะฝะพะฒะธัะต ะทะฐะฒะธัะธะผะพััะธ:
```
go mod tidy
```
### 3. ะะฐัััะพะนัะต ะบะพะฝัะธะณััะฐัะธั:
 - ะัะฟะพะปัะทัะนัะต ัะฐะนะป ```config/local.yaml``` ะดะปั ะบะพะฝัะธะณััะฐัะธะธ ะฒะฐัะตะณะพ ะทะฐะฟััะบะฐ.
 - ะะพะฝัะธะณ ัะฐะนะป ะฟะพ ัะผะพะปัะฐะฝะธั:
```
env: "local" # ะะพะทะผะพะถะฝัะต ะทะฝะฐัะตะฝะธั: local, dev, prod
http_server:
  address: "localhost:8080"
  timeout: 4s
  idle_timeout: 60s
  user: "myuser"
  password: "mypass"
storage:
  type: "SQLite" # ะะพะทะผะพะถะฝัะต ะทะฝะฐัะตะฝะธั: SQLite, MongoDB
  SQLite:
    path: "./storage.db"
  MongoDB:
    uri: "mongodb://admin:my_password@localhost:27017/url-shortener"
```
### 4. ะะฐะฟัััะธัะต ัะตัะฒะตัะ
```
go run cmd/url-shortener/main.go  
```
### 5. ะัะพะฒะตัััะต ัะฐะฑะพัั API:
- ะั ะผะพะถะตัะต ะธัะฟะพะปัะทะพะฒะฐัั curl ะธะปะธ Postman ะดะปั ัะตััะธัะพะฒะฐะฝะธั:
- ะกะพะทะดะฐะฝะธะต ะบะพัะพัะบะพะน ัััะปะบะธ
  ```
  curl -X POST http://localhost:8080/url -u myuser:mypass -d '{"url": "https://github.com/wehw93", "alias": "my_github"}'
  ```
- ะะตะดะธัะตะบั ะฟะพ ะบะพัะพัะบะพะน ัััะปะบะต:
  ```
  curl -X GET http://localhost:8080/my_github -u myuser:mypass
  ```
- ะฃะดะฐะปะตะฝะธะต ะบะพัะพัะบะพะน ัััะปะบะธ:
  ```
  curl -X DELETE http://localhost:8080/url/my_github -u myuser:mypass
  ```
  

